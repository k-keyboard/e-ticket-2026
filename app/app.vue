<script setup>
// 1. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î SEO Meta ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏•‡∏∞‡πÇ‡∏•‡πÇ‡∏Å‡πâ
useSeoMeta({
    title: 'Yi Peng Lanna Ticket - The Golden Passage',
    ogTitle: 'Yi Peng Lanna Ticket - 2026 Chiang Mai',
    description: 'Experience the magic of Yi Peng Festival. Secure your golden passage now.',
    ogDescription: '‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°‡πÅ‡∏´‡πà‡∏á‡∏•‡πâ‡∏≤‡∏ô‡∏ô‡∏≤‡πÉ‡∏ô‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏û‡πá‡∏ç ‡∏à‡∏≠‡∏á‡∏ï‡∏±‡πã‡∏ß‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÇ‡∏Ñ‡∏°‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏°‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ',
    ogImage: '/logo.png', // ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ô public/
    twitterCard: 'summary_large_image',
})

// 2. ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö PWA Install
const { $pwa } = useNuxtApp()

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏õ
const installApp = () => {
    if ($pwa?.canInstall) {
        $pwa.install()
    }
}
</script>

<template>
    <div>
        <Transition name="fade">
            <button v-if="$pwa?.canInstall" @click="installApp" class="lanna-install-fab">
                <span class="icon">üèÆ</span>
                <span class="text">INSTALL APP</span>
            </button>
        </Transition>

        <NuxtLayout>
            <NuxtPage />
        </NuxtLayout>
    </div>
</template>

<style lang="scss">
// ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° Install ‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏ò‡∏µ‡∏°‡∏•‡∏≤‡∏ô‡∏ô‡∏≤
.lanna-install-fab {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 999;
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 20px;
    background: $color-night; // ‡πÉ‡∏ä‡πâ Global Variable
    color: $color-gold; // ‡πÉ‡∏ä‡πâ Global Variable
    border: 2px solid $color-gold;
    border-radius: 50px;
    font-weight: 800;
    font-size: 13px;
    letter-spacing: 1px;
    cursor: pointer;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
    transition: all 0.3s ease;

    &:hover {
        transform: translateY(-5px);
        background: $color-gold;
        color: $color-night;
    }

    .icon {
        font-size: 18px;
    }
}

// Animation ‡∏ï‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏ú‡∏•‡πà‡∏°‡∏≤
.fade-enter-active,
.fade-leave-active {
    transition: opacity 0.5s ease, transform 0.5s ease;
}
.fade-enter-from,
.fade-leave-to {
    opacity: 0;
    transform: translateY(20px);
}
</style>
